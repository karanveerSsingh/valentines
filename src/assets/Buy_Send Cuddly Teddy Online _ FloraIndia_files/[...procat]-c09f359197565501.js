(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4956],{1469:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[...procat]",function(){return a(9652)}])},9652:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return Z},default:function(){return q}});var i=a(5893),l=a(9008),n=a.n(l),r=a(7294),s=a(1955),d=a(5349),o=a(4865),c=a(1312);function u(e){var t,a,l,n,u,p,v,h,m,g,f;let{product:x}=e,[j,y]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[_,D]=(0,r.useState)([]),[N,C]=(0,r.useState)([]),[S,T]=(0,r.useState)("");function P(e,t,a){let i=e.getTime(),l=t.getTime(),n=a.getTime();return i>=l&&i<=n}(0,r.useEffect)(()=>{var e,t,a,i;k(x.reviews),w(s.Z.get("currency")?s.Z.get("currency"):"INR"),C(x.simpleData[0].titles?x.simpleData[0].titles:(null===(e=x.configurableData[0])||void 0===e?void 0:e.titles)?null===(t=x.configurableData[0])||void 0===t?void 0:t.titles:[]),D(x.simpleData[0].altTags?x.simpleData[0].altTags:(null===(a=x.configurableData[0])||void 0===a?void 0:a.altTags)?null===(i=x.configurableData[0])||void 0===i?void 0:i.altTags:[])},[]);let k=e=>{if(Array.isArray(e)){let t=e.reduce((e,t)=>e+t.rating,0);y(Number(t/e.length))}};return(0,i.jsx)("div",{class:"flora-product-card ",children:(0,i.jsxs)("a",{href:"/".concat(null==x?void 0:x.slug),children:[(0,i.jsx)("div",{class:"product-card-figur ",children:(null==x?void 0:x.TypeOfProduct)=="simple"?(0,i.jsx)("img",{src:"".concat(o.Z,"/upload/").concat(null==x?void 0:null===(t=x.simpleData[0])||void 0===t?void 0:t.images[0]),height:"257",width:"257",alt:_[0]?_[0]:x.product_name,title:N[0]?N[0]:x.product_name}):"configurable"===x.TypeOfProduct&&(x.configurableData.some(e=>e.default)?x.configurableData.filter(e=>e.default).map((e,t)=>(0,i.jsx)("div",{className:"product-box-cat-page",children:(0,i.jsx)("img",{height:"257",width:"257",src:"".concat(o.Z,"/upload/").concat(e.images[0]),alt:_[t]?_[t]:x.product_name,title:N[t]?N[t]:x.product_name})},e.id)):(0,i.jsx)("div",{className:"product-box-cat-page",children:(0,i.jsx)("img",{height:"257",width:"257",src:"".concat(o.Z,"/upload/").concat(null==x?void 0:null===(a=x.configurableData[0])||void 0===a?void 0:a.images[0]),alt:_[0]?_[0]:x.product_name,title:N[0]?N[0]:x.product_name})},null==x?void 0:null===(l=x.configurableData[0])||void 0===l?void 0:l.id))}),(0,i.jsxs)("div",{class:"product-card-detail",children:[(0,i.jsx)("p",{className:"pro-heading-bx",children:null==x?void 0:x.product_name}),(null==x?void 0:x.TypeOfProduct)=="simple"?(0,i.jsxs)("div",{className:"plp-average-rating",children:[(0,i.jsx)("p",{class:"price",children:b&&(0,i.jsx)(i.Fragment,{children:(null==x?void 0:null===(n=x.simpleData[0].occations.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===n?void 0:n.length)>0?(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null==x?void 0:x.simpleData[0].occations.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,b)}):(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null==x?void 0:null===(u=x.simpleData[0])||void 0===u?void 0:u.selling_price,b)})})}),j?(0,i.jsx)("a",{className:"star-rating-bx",href:"/".concat(null==x?void 0:x.slug),children:(0,i.jsx)(c.Z,{value:j,size:20,edit:!1,isHalf:!0,activeColor:"#ffd700"})}):(0,i.jsx)("div",{})]}):x.configurableData.some(e=>e.default)?x.configurableData.filter(e=>e.default).map(e=>{var t;return(0,i.jsxs)("div",{className:"plp-average-rating",children:[(0,i.jsx)("p",{class:"price",children:(null==e?void 0:null===(t=e.selling_price.occations.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===t?void 0:t.length)>0?(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null==e?void 0:e.selling_price.occations.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,b)}):(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null==e?void 0:e.selling_price,b)})}),j?(0,i.jsx)("a",{className:"star-rating-bx",href:"/".concat(null==x?void 0:x.slug),children:(0,i.jsx)(c.Z,{value:j,size:20,edit:!1,isHalf:!0,activeColor:"#ffd700"})}):(0,i.jsx)("div",{})]})}):(0,i.jsxs)("div",{className:"plp-average-rating",children:[(0,i.jsx)("p",{class:"price",children:(null===(h=x.configurableData[0])||void 0===h?void 0:null===(v=h.occations)||void 0===v?void 0:null===(p=v.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===p?void 0:p.length)>0?(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null==x?void 0:null===(g=x.configurableData[0])||void 0===g?void 0:null===(m=g.occations)||void 0===m?void 0:m.filter(e=>P(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,b)}):(0,i.jsx)("span",{class:"new-price",children:(0,d.N)(null===(f=x.configurableData[0])||void 0===f?void 0:f.selling_price,b)})}),j?(0,i.jsx)("a",{className:"star-rating-bx",href:"/".concat(null==x?void 0:x.slug),children:(0,i.jsx)(c.Z,{value:j,size:20,edit:!1,isHalf:!0,activeColor:"#ffd700"})}):(0,i.jsx)("div",{})]})]})]})})}var p=a(1163),v=a(2644),h=a(765);function m(e){let{userToken:t,id:a}=e,[l,n]=(0,r.useState)({product_id:a,rating:"5",summary:"",review:"",image:null}),[s,d]=(0,r.useState)(!1),[o,c]=(0,r.useState)(""),u=e=>{let{name:t,value:a,files:i}=e.target;"image"===t?n({...l,[t]:i[0]}):n({...l,[t]:a})},p=async()=>{if(d(!0),c(""),!l.rating||!l.summary||!l.review){c("Please fill in all required fields."),d(!1);return}try{let e=new FormData;e.append("product_id",l.product_id),e.append("rating",l.rating),e.append("summary",l.summary),e.append("review",l.review),e.append("image",l.image);let i=await v.Z.post("/ratingreviews/add",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});200===i.status?(swal("Thank you for writing a review."),n({product_id:a,rating:"5",summary:"",review:"",image:null})):c("Review submission failed. Please try again later.")}catch(e){console.error("Error:",e),c(e.response.data.data)}finally{d(!1)}};return(0,i.jsxs)("div",{className:"flora-half-col reveiw-left",children:[(0,i.jsx)("div",{className:"flora-row review-inner-heading "}),(0,i.jsxs)("form",{children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Your Rating"}),(0,i.jsx)(h.Z,{count:5,value:l.rating,onChange:e=>n({...l,rating:e}),edit:!0,activeColor:"#ffd700",size:25})]}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("input",{type:"text",placeholder:"Summary*",className:"form-control",name:"summary",value:l.summary,onChange:u})}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("textarea",{type:"text",placeholder:"Review*",className:"form-control",name:"review",value:l.review,onChange:u})}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Image"}),(0,i.jsx)("input",{type:"file",className:"form-control",name:"image",onChange:u})]}),(0,i.jsx)("div",{className:"form-group",children:(0,i.jsx)("button",{type:"button",className:"flora-bright-button",onClick:p,disabled:s,children:s?"Submitting...":"Submit Review"})})]}),o&&(0,i.jsx)("p",{className:"error-message",children:o})]})}var g=a(615);a(1538);var f=a(6737),x=a.n(f),j=a(6066);function y(e){let[t,a]=(0,r.useState)(e.product),[l,n]=(0,r.useState)(""),[u,p]=(0,r.useState)("");function v(e,t,a){let i=e.getTime(),l=t.getTime(),n=a.getTime();return i>=l&&i<=n}return(0,r.useEffect)(()=>{n(s.Z.get("currency")?s.Z.get("currency"):"INR")},[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{class:"occasion-home-wrp",children:(0,i.jsxs)("div",{class:"flora-full-container",children:[(0,i.jsx)("div",{class:"flora-heading-box",children:(0,i.jsx)("h3",{children:"Related Products"})}),(0,i.jsx)(j.Z,{infinite:!0,slidesToShow:5,slidesToScroll:1,autoplay:!0,centerMode:!0,autoplaySpeed:2e3,dots:!1,centerPadding:"0px",responsive:[{breakpoint:1601,settings:{slidesToShow:4,slidesToScroll:1,infinite:!0,dots:!1}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1,infinite:!0,dots:!1}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:1}}],class:"occasion-slider",children:t.length>0&&e.product.map(e=>{var t,a,n,r,s,u,p,h,m,g,f,x,j,y,b,w,_,D,N,C,S;return(0,i.jsx)("div",{class:"flora-product-card from-related-pdt-slider",children:(0,i.jsxs)("a",{href:"/".concat(e.product_id.slug),children:[(0,i.jsxs)("div",{class:"product-card-figur ",children:[(null==e?void 0:null===(a=e.product_id)||void 0===a?void 0:null===(t=a.reviews)||void 0===t?void 0:t.length)>0?(()=>{var t,a,l,n;let r=null===(a=e.product_id)||void 0===a?void 0:null===(t=a.reviews)||void 0===t?void 0:t.reduce((e,t)=>e+(null==t?void 0:t.rating),0),s=Number(r/(null===(n=e.product_id)||void 0===n?void 0:null===(l=n.reviews)||void 0===l?void 0:l.length));return(0,i.jsxs)("div",{className:"product-title-rating-right",children:[(0,i.jsx)("div",{className:"rating-inner",children:(0,i.jsx)("p",{children:s.toFixed(1)})}),(0,i.jsx)("div",{className:"flora-row rating-full-box-right",children:(0,i.jsx)(c.Z,{value:s,size:24,edit:!1,isHalf:!0,activeColor:"#ffd700"})})]})})():(0,i.jsx)("div",{}),(0,i.jsx)("span",{children:(null==e?void 0:null===(n=e.product_id)||void 0===n?void 0:n.TypeOfProduct)=="simple"?"Freshness Guaranteed":"Satisfaction Guaranteed"}),(null==e?void 0:null===(r=e.product_id)||void 0===r?void 0:r.TypeOfProduct)=="configurable"?(0,i.jsx)("img",{src:"".concat(o.Z,"/upload/").concat(null===(u=e.product_id)||void 0===u?void 0:null===(s=u.configurableData[0])||void 0===s?void 0:s.images[0]),alt:e.product_id.product_name}):(null==e?void 0:null===(p=e.product_id)||void 0===p?void 0:p.TypeOfProduct)=="simple"&&(0,i.jsx)("img",{src:"".concat(o.Z,"/upload/").concat(null===(m=e.product_id)||void 0===m?void 0:null===(h=m.simpleData[0])||void 0===h?void 0:h.images[0]),alt:e.product_id.product_name})]}),(0,i.jsxs)("div",{class:"product-card-detail",children:[(0,i.jsx)("h6",{children:e.product_id.product_name}),(null==e?void 0:null===(g=e.product_id)||void 0===g?void 0:g.TypeOfProduct)=="simple"?(0,i.jsx)("p",{class:"price",children:l&&(0,i.jsx)(i.Fragment,{children:(null===(f=e.product_id.simpleData[0].occations.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===f?void 0:f.length)>0?(0,i.jsxs)("span",{class:"new-price",children:[(0,i.jsx)("span",{className:"currency-symbol",children:(0,d.N)(e.product_id.simpleData[0].occations.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,l).split("  ")[0]})," ",(0,i.jsx)("span",{children:(0,d.N)(e.product_id.simpleData[0].occations.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,l).split("  ")[1]}),(0,i.jsx)("strong",{children:"Inclusive of all taxes"})]}):(0,i.jsxs)("span",{class:"new-price",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(e.product_id.simpleData[0].selling_price,l).split("  ")[0]," "]})," ",(0,i.jsxs)("span",{children:[(0,d.N)(e.product_id.simpleData[0].selling_price,l).split("  ")[1]," "]}),(0,i.jsx)("strong",{children:"Inclusive of all taxes"})]})})}):(null==e?void 0:null===(x=e.product_id)||void 0===x?void 0:x.TypeOfProduct)=="configurable"&&(0,i.jsxs)("p",{class:"price",children:["                  ",(null===(b=e.product_id)||void 0===b?void 0:null===(y=b.configurableData[0])||void 0===y?void 0:null===(j=y.occations.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===j?void 0:j.length)>0?(0,i.jsxs)("span",{class:"new-price",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(null===(D=e.product_id)||void 0===D?void 0:null===(_=D.configurableData[0])||void 0===_?void 0:null===(w=_.occations)||void 0===w?void 0:w.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,l).split("  ")[0]," "]})," ",(0,i.jsxs)("span",{children:[(0,d.N)(e.product_id.configurableData[0].occations.filter(e=>v(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,l).split("  ")[1]," "]}),(0,i.jsx)("strong",{children:"Inclusive of all taxes"})]}):(0,i.jsxs)("span",{class:"new-price",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[" ",(0,d.N)(null===(C=e.product_id)||void 0===C?void 0:null===(N=C.configurableData[0])||void 0===N?void 0:N.selling_price,l).split("  ")[0]," "]})," ",(0,i.jsxs)("span",{children:[" ",(0,d.N)(null===(S=e.product_id.configurableData[0])||void 0===S?void 0:S.selling_price,l).split("  ")[1]," "]}),"  ",(0,i.jsx)("strong",{children:"Inclusive of all taxes"})," "]})]})]})]})})})})]})})})}var b=a(4752),w=a(4803),_=a.n(w),D=a(6940);a(3454);var N=a(1354),C=a.n(N);let S="w3$Z8fGk#1Jd9@2kL6mPzAqTp3VxC4Bn";var T=function(e){var t,a,l,n,o,u,h,f,j,w,N;let T=(0,p.useRouter)(),[P,k]=(0,r.useState)(""),[O,Z]=(0,r.useState)(!1),[q,I]=(0,r.useState)(e.props.data[0]),[L,H]=(0,r.useState)(s.Z.get("pinCode")?s.Z.get("pinCode"):""),[A,E]=(0,r.useState)(1),[R,B]=(0,r.useState)(""),[M,V]=(0,r.useState)(""),[Q,F]=(0,r.useState)(""),[U,z]=(0,r.useState)(""),[K,W]=(0,r.useState)(""),[Y,G]=(0,r.useState)(""),[J,X]=(0,r.useState)(""),[$,ee]=(0,r.useState)({}),[et,ea]=(0,r.useState)(""),[ei,el]=(0,r.useState)({}),[en,er]=(0,r.useState)(""),[es,ed]=(0,r.useState)([]),[eo,ec]=(0,r.useState)(""),[eu,ep]=(0,r.useState)(0),[ev,eh]=(0,r.useState)(""),[em,eg]=(0,r.useState)([]),[ef,ex]=(0,r.useState)(""),[ej,ey]=(0,r.useState)(null==e?void 0:null===(a=e.props)||void 0===a?void 0:null===(t=a.data[0])||void 0===t?void 0:t.ratingsCount),[eb,ew]=(0,r.useState)([]),[e_,eD]=(0,r.useState)(""),[eN,eC]=(0,r.useState)(""),[eS,eT]=(0,r.useState)(""),[eP,ek]=(0,r.useState)(0);(0,r.useEffect)(()=>{{let e=()=>{ek(window.innerWidth)};return ek(window.innerWidth),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}},[]);let eO=e=>C().AES.encrypt(JSON.stringify(e),S).toString(),eZ=e=>{let t=C().AES.decrypt(e,S);return JSON.parse(t.toString(C().enc.Utf8))};function eq(e,t,a){let i=e.getTime(),l=t.getTime(),n=a.getTime();return i>=l&&i<=n}let[eI,eL]=(0,r.useState)(null==e?void 0:null===(o=e.props)||void 0===o?void 0:null===(n=o.data[0])||void 0===n?void 0:null===(l=n.crossSellProduct)||void 0===l?void 0:l.map(e=>{var t,a,i,l,n,r,s,d,o,c,u,p,v,h,m,g,f,x,j,y,b,w,_,D,N,C,S;return{_id:null==e?void 0:null===(t=e.product_id)||void 0===t?void 0:t._id,Quantity:0,image:(null===(a=e.product_id)||void 0===a?void 0:a.TypeOfProduct)=="simple"?null===(l=e.product_id)||void 0===l?void 0:null===(i=l.simpleData[0])||void 0===i?void 0:i.images[0]:(null===(n=e.product_id)||void 0===n?void 0:n.TypeOfProduct)=="configurable"&&(null===(s=e.product_id)||void 0===s?void 0:null===(r=s.configurableData[0])||void 0===r?void 0:r.images[0]),price:(null===(d=e.product_id)||void 0===d?void 0:d.TypeOfProduct)=="simple"?(null===(p=e.product_id)||void 0===p?void 0:null===(u=p.simpleData[0])||void 0===u?void 0:null===(c=u.occations)||void 0===c?void 0:null===(o=c.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===o?void 0:o.length)>0?null===(h=e.product_id)||void 0===h?void 0:null===(v=h.simpleData[0].occations)||void 0===v?void 0:v.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price:null===(g=e.product_id)||void 0===g?void 0:null===(m=g.simpleData[0])||void 0===m?void 0:m.selling_price:(null===(f=e.product_id)||void 0===f?void 0:f.TypeOfProduct)=="configirable"&&(null===(b=e.product_id)||void 0===b?void 0:null===(y=b.configurableData[0])||void 0===y?void 0:null===(j=y.occations)||void 0===j?void 0:null===(x=j.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===x?void 0:x.length)>0?null===(_=e.product_id)||void 0===_?void 0:null===(w=_.configurableData[0].occations)||void 0===w?void 0:w.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price:null===(N=e.product_id)||void 0===N?void 0:null===(D=N.configurableData[0])||void 0===D?void 0:D.selling_price,name:null==e?void 0:null===(C=e.product_id)||void 0===C?void 0:C.product_name,type:null==e?void 0:null===(S=e.product_id)||void 0===S?void 0:S.TypeOfProduct,prod:null==e?void 0:e.product_id}}).filter(e=>null==e?void 0:e._id)),[eH,eA]=(0,r.useState)(!1),eE=async()=>{let e=await v.Z.get("/admin/pincodeSetting/one");if(ec(e.data.data),e.data.data.sameDayCutOffTime){let t=new Date(new Date(e.data.data.currentDate).toLocaleString("en-US",{timeZone:"Asia/Kolkata"})),a=new Date(new Date(e.data.data.currentDate).toLocaleString("en-US",{timeZone:"Asia/Kolkata"}));t.setHours(e.data.data.sameDayCutOffTime.split(":")[0]),t.setMinutes(e.data.data.sameDayCutOffTime.split(":")[1]),eh(setInterval(()=>{!function(e,t){t.setSeconds(t.getSeconds()+1);let a=e-t;if(a<=0){ep(0),clearInterval(ev);return}let i=String(Math.floor(a%864e5/36e5)).padStart(2,"0"),l=String(Math.floor(a%36e5/6e4)).padStart(2,"0"),n=String(Math.floor(a%6e4/1e3)).padStart(2,"0");if("00"===i&&"00"===l&&"00"===n){ep(0),clearInterval(ev);return}ep("".concat(i,":").concat(l,":").concat(n))}(t,a)},1e3))}return()=>{ev&&clearInterval(ev)}},eR=async e=>{let t=await v.Z.get("/getCart/".concat(e));t.status=200,B(t.data.data)},eB=async e=>{let t=await v.Z.post("/emptyCart");B(t.data.data),s.Z.set("cartId",t.data.data._id),"addons"==e?eF():eQ(e)},eM=async(e,t)=>{try{let a=await v.Z.post("/user/productfi/crossSell",{pincode:t,product_ids:e.map(e=>e._id)}),i=new Set(a.data.data.filter(e=>!e.outOfStock).map(e=>e._id)),l=e.filter(e=>i.has(e._id));ed(l)}catch(e){console.log(e)}},eV=async e=>{if(e){if(6!=String(e).length){x()("You have entered invalid pincode");return}}else{x()("Please add pincode to check availability");return}let t=await v.Z.post("/checkProdAtPincode",{pincode:e,product_id:q._id});if(V(t.data.message),eM(eI,e),t.data.available){var a;if((null==R?void 0:R.pincode)!=e&&(null==R?void 0:null===(a=R.cartDetail)||void 0===a?void 0:a.length)>0){x()("You already have items in your cart for ".concat(null==R?void 0:R.pincode," pincode, please remove items of this pincode to continue for ").concat(e," pincode"));return}s.Z.set("pinCode",e)}else s.Z.remove("pinCode")},eQ=async e=>{var t,a,i,l,n;try{if(!s.Z.get("pinCode")){x()("Please check item's availability at your pincode before adding it into your cart");return}if(s.Z.get("pinCode")!=R.pincode&&(null==R?void 0:null===(t=R.CartDetail)||void 0===t?void 0:t.length)>0){x()("You already have some items for ".concat(R.pincode,", remove those items from the cart to continue shopping for ").concat(s.Z.get("pinCode")));return}if(!s.Z.get("cartId")){await eB(e);return}if((null==q?void 0:q.productNature)==="Complementary"){x()("We'll add this at checkout page for you, basis eligibility of your cart");return}let a=[];a=Array.isArray(null==R?void 0:R.CartDetail)?R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id&&e.variant_name==(null==et?void 0:et.variant_name)).length>0?[...R.CartDetail.filter(e=>(null==e?void 0:e.product_id)!=q._id),{...R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id)[0],qty:R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id)[0].qty+A,variant_name:et?et.variant_name:""}]:[...R.CartDetail,{TypeOfProduct:q.TypeOfProduct,product_id:q._id,qty:A,variant_name:et?et.variant_name:""}]:[{TypeOfProduct:q.TypeOfProduct,product_id:q._id,qty:A,variant_name:et?et.variant_name:""}],(0,D.Kc)(q.SKUCode,q.product_name,A,"simple"==q.TypeOfProduct?q.simpleData[0].selling_price:q.configurableData.filter(e=>e.variant_name==et.variant_name)[0].selling_price);let i={cartDetail:a,cartId:s.Z.get("cartId"),pincode:s.Z.get("pinCode")},l=eO(i),n=await v.Z.post("/updateCart",{data:l}),r=eZ(n.data.data);B(r),console.log("decryptedData",r),"buy"==e&&(window.location="/checkout");let d=new CustomEvent("localCartChanged",{detail:{key:"CartData",newValue:n.data.data}});window.dispatchEvent(d)}catch(e){Array.isArray(null==e?void 0:null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.data)?x()(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.data.join(",")):x()("Something went wrong")}},eF=async()=>{var e,t,a,i,l;try{if(!s.Z.get("cartId")){await eB("addons");return}if(s.Z.get("pinCode")!=R.pincode&&(null==R?void 0:null===(e=R.CartDetail)||void 0===e?void 0:e.length)>0){x()("You already have some items for ".concat(R.pincode,", remove those items from the cart to continue shopping for ").concat(s.Z.get("pinCode")));return}eA(!1);let t=es.filter(e=>e.Quantity).map(e=>{var t;return{TypeOfProduct:e.type,qty:e.Quantity,product_id:e._id,variant_name:"configurable"==e.prod.TypeOfProduct?null===(t=e.prod.configurableData[0])||void 0===t?void 0:t.variant_name:""}}),a={cartDetail:[...Array.isArray(null==R?void 0:R.CartDetail)?R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id).length>0?[...R.CartDetail.filter(e=>(null==e?void 0:e.product_id)!=q._id),{...R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id)[0],qty:R.CartDetail.filter(e=>(null==e?void 0:e.product_id)==q._id)[0].qty+A,variant_name:et?et.variant_name:""}]:[...R.CartDetail,{TypeOfProduct:q.TypeOfProduct,product_id:q._id,qty:A,variant_name:et?et.variant_name:""}]:[{TypeOfProduct:q.TypeOfProduct,product_id:q._id,qty:A,variant_name:et?et.variant_name:""}],...t],cartId:s.Z.get("cartId"),pincode:s.Z.get("pinCode")},i=eO(a),l=await v.Z.post("/updateCart",{data:i});(0,D.Kc)(q.SKUCode,q.product_name,A,"simple"==q.TypeOfProduct?q.simpleData[0].selling_price:q.configurableData.filter(e=>e.variant_name==et.variant_name)[0].selling_price);let n=eZ(l.data.data);B(n),console.log("decryptedData",n),x()("Product added in your cart");let r=new CustomEvent("localCartChanged",{detail:{key:"CartData",newValue:l.data.data}});window.dispatchEvent(r)}catch(e){Array.isArray(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.data)?x()(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:i.data.join(",")):x()("Something went wrong")}};function eU(e){return e.replace(/-/g," ").replace(/(?:^|\s)\S/g,e=>e.toUpperCase())}let ez=e=>{if(Array.isArray(e)){ey(e.length?e.length:0);let t=e.reduce((e,t)=>e+t.rating,0);ex(Number(t/e.length))}},eK=async e=>{let t=e.currentTarget,a=t.classList.contains("open-section");a?t.classList.remove("open-section"):t.classList.add("open-section")};return(0,r.useEffect)(()=>{var t,a,i,l,n,r,d,o,c,u,p,v,h,m,g,f,x,j,y,b,w,_,N,C,S,T,P,O,Z,q,I,L,H,A,E,R,M,V,Q,U,K,Y;if((0,D.$y)(null===(a=e.props)||void 0===a?void 0:null===(t=a.data[0])||void 0===t?void 0:t.SKUCode,null===(l=e.props)||void 0===l?void 0:null===(i=l.data[0])||void 0===i?void 0:i.product_name),eE(),ez(null==e?void 0:null===(r=e.props)||void 0===r?void 0:null===(n=r.data[0])||void 0===n?void 0:n.reviews),F((null===(d=e.props.data[0])||void 0===d?void 0:d.longDesc)&&(null===(o=e.props.data[0])||void 0===o?void 0:o.longDesc)),k((null===(c=e.props.data[0])||void 0===c?void 0:c.productSpecification)&&(null===(u=e.props.data[0])||void 0===u?void 0:u.productSpecification)),z((null===(p=e.props.data[0])||void 0===p?void 0:p.shortDesc)&&(null===(v=e.props.data[0])||void 0===v?void 0:v.shortDesc)),eT((null===(h=e.props.data[0])||void 0===h?void 0:h.willBeDeliveredBy)&&(null===(m=e.props.data[0])||void 0===m?void 0:m.willBeDeliveredBy)),eD((null===(g=e.props.data[0])||void 0===g?void 0:g.slaLowerLimit)&&(null===(f=e.props.data[0])||void 0===f?void 0:f.slaLowerLimit)),eC((null===(x=e.props.data[0])||void 0===x?void 0:x.slaUpperLimit)&&(null===(j=e.props.data[0])||void 0===j?void 0:j.slaUpperLimit)),W((null===(y=e.props.data[0])||void 0===y?void 0:y.vendorDesc)&&(null===(b=e.props.data[0])||void 0===b?void 0:b.vendorDesc)),G((null===(w=e.props.data[0])||void 0===w?void 0:w.disclaimer)&&(null===(_=e.props.data[0])||void 0===_?void 0:_.disclaimer)),X(s.Z.get("currency")?s.Z.get("currency"):"INR"),ew((null===(C=e.props.data[0])||void 0===C?void 0:null===(N=C.simpleData[0])||void 0===N?void 0:N.titles)?null===(T=e.props.data[0])||void 0===T?void 0:null===(S=T.simpleData[0])||void 0===S?void 0:S.titles:(null===(O=e.props.data[0])||void 0===O?void 0:null===(P=O.configurableData[0])||void 0===P?void 0:P.titles)?null===(q=e.props.data[0])||void 0===q?void 0:null===(Z=q.configurableData[0])||void 0===Z?void 0:Z.titles:[]),eg((null===(L=e.props.data[0])||void 0===L?void 0:null===(I=L.simpleData[0])||void 0===I?void 0:I.altTags)?null===(A=e.props.data[0])||void 0===A?void 0:null===(H=A.simpleData[0])||void 0===H?void 0:H.altTags:(null===(M=e.props)||void 0===M?void 0:null===(R=M.data[0])||void 0===R?void 0:null===(E=R.configurableData[0])||void 0===E?void 0:E.altTags)?null===(Q=e.props.data[0])||void 0===Q?void 0:null===(V=Q.configurableData[0])||void 0===V?void 0:V.altTags:[]),s.Z.get("cartId")&&eR(s.Z.get("cartId")),s.Z.get("pinCode")&&eV(s.Z.get("pinCode")),(null===(K=e.props.data[0])||void 0===K?void 0:null===(U=K.configurableData)||void 0===U?void 0:U.length)>0){let t={};for(let a of null===(Y=e.props.data[0])||void 0===Y?void 0:Y.configurableData)for(let e of a.attributes)t[e.attributeName]?t[e.attributeName]=[...t[e.attributeName].filter(t=>t!=e.attributeValue),e.attributeValue]:t[e.attributeName]=[e.attributeValue];let a={};for(let t of e.props.data[0].configurableData[0].attributes)a[t.attributeName]=t.attributeValue;ea(e.props.data[0].configurableData[0]),el(a),ee(t)}return window.addEventListener("HeaderlocalCartChanged",e=>{B(e.detail.newValue)}),()=>{window.removeEventListener("HeaderlocalCartChanged",()=>{console.log("")})}},[]),(0,i.jsx)(i.Fragment,{children:q&&(0,i.jsxs)("main",{class:"page-content pdp-bottom-section-sticky",children:[(0,i.jsx)("div",{class:"content-width-box",children:(0,i.jsx)("nav",{"aria-label":"breadcrumb",children:(0,i.jsxs)("ol",{class:"breadcrumb product-breadcrumbs",children:[(0,i.jsx)("li",{class:"breadcrumb-item",children:(0,i.jsx)("a",{href:"/",children:"Home"})}),null==T?void 0:null===(h=T.query)||void 0===h?void 0:null===(u=h.procat)||void 0===u?void 0:u.map((e,t)=>t===T.query.procat.length-1?(0,i.jsx)("li",{class:"breadcrumb-item custom-breadcrumb-item active","aria-current":"page",children:eU(e)}):(0,i.jsx)("li",{class:"breadcrumb-item custom-breadcrumb-item",children:(0,i.jsx)("a",{href:"/".concat(T.query.procat.slice(0,t+1).join("/")),children:eU(e)})}))]})})}),(0,i.jsxs)("div",{class:"flora-full-container content-width-box",children:[(0,i.jsxs)("div",{class:"flora-row product-page-wrap",children:[(0,i.jsx)("div",{class:"flora-half-col product-left-slide-box",children:(0,i.jsx)("div",{className:"product-wrp-left-image",children:(0,i.jsx)(g.lr,{showArrows:!0,emulateTouch:!0,dynamicHeight:!0,useKeyboardArrows:!0,infiniteLoop:!0,showStatus:!1,showThumbs:eP>=768,children:"simple"==q.TypeOfProduct?q.simpleData[0].images.map((e,t)=>(0,i.jsx)("div",{class:"product-page-large-figure",children:(0,i.jsx)("img",{src:"https://api.floraindia.com/upload/".concat(e),alt:em[t]?em[t]:q.product_name,title:eb[t]?eb[t]:q.product_name})})):"group "==q.TypeOfProduct?q.groupData[0].images.map((e,t)=>(0,i.jsx)("div",{class:"product-page-large-figure",children:(0,i.jsx)("img",{src:"https://api.floraindia.com/upload/".concat(e),alt:em[t]?em[t]:q.product_name,title:eb[t]?eb[t]:q.product_name})})):"configurable"==q.TypeOfProduct&&q.configurableData.filter(e=>e.images.length>0).map(e=>e.images.map((e,t)=>(0,i.jsx)("div",{class:"product-page-large-figure",children:(0,i.jsx)("img",{src:"https://api.floraindia.com/upload/".concat(e),alt:em[t]?em[t]:q.product_name,title:eb[t]?eb[t]:q.product_name})})))})})}),(0,i.jsx)("div",{class:"flora-half-col productcontent-right-data",children:(0,i.jsxs)("div",{class:"product-content",children:[(0,i.jsx)("div",{class:"item-code-row flora-row",children:(0,i.jsx)("div",{class:"product-item-code",children:(0,i.jsxs)("h6",{children:["Item Code : (",q.SKUCode,")"]})})}),(0,i.jsxs)("div",{class:"product-title",children:[(0,i.jsxs)("div",{className:"product-title-rating-left",children:[(0,i.jsx)("h1",{children:q.product_name}),et.variant_name&&(0,i.jsx)("span",{children:et.variant_name.split("__").filter((e,t)=>t%2).join(" , ")})]}),ef?(0,i.jsxs)("div",{className:"product-title-rating-right",children:[(0,i.jsx)("span",{className:"rating-number",children:(0,i.jsx)("strong",{children:ef})}),(0,i.jsxs)("span",{className:"rating-full-box-right",children:[(0,i.jsx)(c.Z,{value:ef,size:24,edit:!1,isHalf:!0,activeColor:"#ffd700"})," | ",(0,i.jsxs)("a",{class:"highlight-text-content",href:"#review-section-redirected",children:[" ",(0,i.jsxs)("span",{className:"total-reviews-text",children:[ej+" "," ",ej>1?"Reviews":"Review"]})]})]})]}):(0,i.jsx)("div",{})]}),"simple"==q.TypeOfProduct&&q.simpleData&&(0,i.jsx)("div",{class:"product-price",children:(null===(f=q.simpleData[0].occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===f?void 0:f.length)>0?(0,i.jsx)("p",{children:(0,i.jsxs)("span",{class:"new-price-product",children:[(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(q.simpleData[0].occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,J).split("  ")[0]," "]})," ",(0,i.jsxs)("span",{children:[(0,d.N)(q.simpleData[0].occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,J).split("  ")[1]," "]}),"   "]})}):(0,i.jsxs)("p",{children:[q.simpleData[0].mrp>q.simpleData[0].selling_price&&(0,i.jsxs)("span",{class:"product-old-prcie",children:[(0,i.jsx)("span",{className:"currency-symbol",children:(0,d.N)(q.simpleData[0].mrp,J).split("  ")[0]}),"  ",(0,i.jsx)("span",{children:(0,d.N)(q.simpleData[0].mrp,J).split("  ")[1]})]})," ",(0,i.jsxs)("span",{class:"new-price-product",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(q.simpleData[0].selling_price,J).split("  ")[0]," "]}),"  ",(0,i.jsxs)("span",{children:[(0,d.N)(q.simpleData[0].selling_price,J).split("  ")[1]," "]})]}),(0,i.jsx)("span",{className:"inclu-product",children:(0,i.jsx)("strong",{children:"Inclusive of all taxes"})})]})}),"groupData"==q.TypeOfProduct&&q.groupData&&(0,i.jsx)("div",{class:"product-price",children:(0,i.jsxs)("p",{children:[q.groupData[0].mrp>q.groupData[0].selling_price&&(0,i.jsxs)("span",{class:"product-old-prcie",children:[(0,i.jsx)("span",{className:"currency-symbol",children:(0,d.N)(q.groupData[0].mrp,J).split("  ")[0]}),"  ",(0,i.jsx)("span",{children:(0,d.N)(q.groupData[0].mrp,J).split("  ")[1]})," "]})," ",(0,i.jsxs)("span",{class:"new-price-product",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(q.groupData[0].selling_price,J).split("  ")[0],"  "]}),"    ",(0,i.jsxs)("span",{children:[(0,d.N)(q.groupData[0].selling_price,J).split("  ")[1],"  "]})," "]}),(0,i.jsx)("span",{className:"inclu-product",children:(0,i.jsx)("strong",{children:"Inclusive of all taxes"})})]})}),et&&(0,i.jsx)("div",{class:"product-price",children:(null===(j=et.occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date))))||void 0===j?void 0:j.length)>0?(0,i.jsx)("p",{children:(0,i.jsxs)("span",{class:"new-price-product",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(et.occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,J).split("  ")[0]," "]}),"  ",(0,i.jsxs)("span",{children:[(0,d.N)(et.occations.filter(e=>eq(new Date,new Date(e.start_date),new Date(e.end_date)))[0].price,J).split("  ")[1]," "]})," "]})}):(0,i.jsxs)("p",{children:[et.mrp>et.selling_price&&(0,i.jsxs)("span",{class:"product-old-prcie",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(et.mrp,J).split("  ")[0]," "]}),"  ",(0,i.jsxs)("span",{children:[(0,d.N)(et.mrp,J).split("  ")[1]," "]})]})," ",(0,i.jsxs)("span",{class:"new-price-product",children:[" ",(0,i.jsxs)("span",{className:"currency-symbol",children:[(0,d.N)(et.selling_price,J).split("  ")[0]," "]}),"  ",(0,i.jsxs)("span",{children:[(0,d.N)(et.selling_price,J).split("  ")[1]," "]}),"  "]})," ",(0,i.jsx)("span",{className:"inclu-product",children:(0,i.jsx)("strong",{children:"Inclusive of all taxes"})})]})}),(0,i.jsx)("div",{class:"pincode-check",children:(0,i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),eV(L)},children:[(0,i.jsx)("h6",{class:"product-small-heading",children:"Enter Delivery Pincode "}),(0,i.jsxs)("div",{class:"form-group",children:[(0,i.jsx)("input",{type:"text",name:"pincode",class:"form-group",value:L,placeholder:"Enter Pincode",onChange:e=>{V(""),String(e.target.value).length<=6&&(H(e.target.value),6==String(e.target.value).length&&eV(e.target.value))}}),(0,i.jsx)("button",{type:"submit",children:(0,i.jsx)("i",{class:"fa-solid fa-location-dot"})})]}),(0,i.jsx)("p",{style:"This Product is available at this pincode!"===M?{color:"#228B22"}:"This Product is not available at this pincode!"===M?{color:"#fa4501"}:{},children:M})]})}),Object.keys($).length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"product-type-varient",children:Object.keys($).map(e=>(0,i.jsxs)("div",{className:"product-varient-row",children:[(0,i.jsxs)("label",{className:"product-small-heading",children:["Select ",e]}),(0,i.jsx)("div",{className:"product-buttons-group",children:$[e].map(t=>(0,i.jsx)("button",{className:"product-button ".concat(t===ei[e]?"selected":""),onClick:()=>{let a="",i={...ei};for(let l of(i[e]=t,el(i),Object.keys(i)))a+="__".concat(l,"__").concat(i[l]);q.configurableData.filter(e=>e.variant_name===a.split("__").splice(1).join("__")).length>0?(er(""),ea(q.configurableData.filter(e=>e.variant_name===a.split("__").splice(1).join("__"))[0])):er("Selected Variant is not available")},children:t},t))})]},e))}),en&&(0,i.jsx)("div",{className:"product-type-varient-error",children:(0,i.jsx)("p",{children:en})})]}),q.outOfStock?(0,i.jsx)("button",{type:"button",class:"flora-blank-button","data-toggle":"modal","data-target":"#myModal",children:"Out of stock"}):(0,i.jsxs)("div",{class:"product-qty-row flora-row desktop-view",children:[(0,i.jsxs)("div",{class:"input-group quantity-selector",children:[(0,i.jsx)("button",{type:"button",class:"btn btn-icon btn-decrease","aria-describedby":"inputQuantitySelector","data-bs-step":"down",onClick:()=>{A>1&&E(A-1)},children:"-"}),(0,i.jsx)("input",{type:"number",id:"inputQuantitySelector",class:"form-control","aria-live":"polite","data-bs-step":"counter",name:"quantity",title:"quantity",min:"0",max:"100",step:"1","data-bs-round":"0","aria-label":"Quantity selector",value:A}),(0,i.jsx)("button",{type:"button",class:"btn btn-icon btn-increase","aria-describedby":"inputQuantitySelector","data-bs-step":"up",onClick:()=>E(A+1),children:"+"})]}),"TBDBCV"!==eS&&eu?(0,i.jsxs)("p",{className:"pdt-delivery-msg",children:[" Assured ",(0,i.jsx)("span",{style:{color:"red"},children:"Today's "})," Delivery Order Within : ",(0,i.jsxs)("span",{style:{color:"red"},children:[eu," "]})]}):"TBDBCV"===eS&&(0,i.jsxs)("p",{className:"pdt-delivery-msg",children:["Product will be delivered in ",(0,i.jsxs)("span",{style:{color:"red"},children:[" ",e_," to ",eN," days "]}),"by our courier partner"]}),(0,i.jsxs)("div",{class:"product-button-add flora-row",children:[O?(0,i.jsx)("button",{type:"button",class:"flora-bright-button flora-bright-button","data-toggle":"modal","data-target":"#myModal",children:"Adding..."}):(0,i.jsx)("button",{type:"button",class:"flora-bright-button ","data-toggle":"modal","data-target":"#myModal",onClick:()=>{if(es.length>0){if(!s.Z.get("pinCode")){x()("Please check item's availability at your pincode before adding it into your cart");return}eA(!0)}else eQ("add")},children:"add to cart"}),(0,i.jsx)("button",{type:"button",class:"flora-bright-button bu-product-text","data-toggle":"modal","data-target":"#myModal",onClick:()=>{if(es.length>0){if(!s.Z.get("pinCode")){x()("Please check item's availability at your pincode before adding it into your cart");return}eA(!0)}else eQ("buy")},children:"Buy Now"}),(0,i.jsxs)("p",{className:"secure-pay-text",children:[(0,i.jsx)("span",{children:(0,i.jsx)("img",{src:"/Lock_icon_image.png"})}),"  100% Secure Payment"]})]})]}),(0,i.jsxs)("div",{class:"accordion product-detail-text",id:"faq",children:[(0,i.jsxs)("div",{class:"card",onClick:e=>eK(e),children:[(0,i.jsx)("div",{class:"card-header",id:"faqhead1",children:(0,i.jsx)("h2",{class:"btn btn-header-link collapsed","aria-expanded":"true","aria-controls":"faq1",children:"Description"})}),(0,i.jsx)("div",{id:"faq1",class:"collapse show","aria-labelledby":"faqhead1","data-parent":"#faq",children:(0,i.jsx)("div",{class:"card-body",dangerouslySetInnerHTML:{__html:U}})})]}),(0,i.jsxs)("div",{class:"card",onClick:e=>eK(e),children:[(0,i.jsx)("div",{class:"card-header",id:"faqhead2",children:(0,i.jsx)("h2",{class:"btn btn-header-link collapsed","data-toggle":"collapse","data-target":"#faq2","aria-expanded":"true","aria-controls":"faq2",children:"Product Specification"})}),(0,i.jsx)("div",{id:"faq2",class:"collapse ","aria-labelledby":"faqhead2","data-parent":"#faq",children:(0,i.jsx)("div",{class:"card-body",dangerouslySetInnerHTML:{__html:P}})})]}),(0,i.jsxs)("div",{class:"card ",onClick:e=>eK(e),children:[(0,i.jsx)("div",{class:"card-header",id:"faqhead3",children:(0,i.jsx)("h2",{class:"btn btn-header-link collapsed","data-toggle":"collapse","data-target":"#faq3","aria-expanded":"true","aria-controls":"faq3",children:"Delivery Information"})}),(0,i.jsx)("div",{id:"faq3",class:"collapse","aria-labelledby":"faqhead2","data-parent":"#faq",children:(0,i.jsxs)("div",{class:"card-body",children:[(0,i.jsx)("p",{class:"card-body",dangerouslySetInnerHTML:{__html:Q}}),"                            "]})})]}),(0,i.jsxs)("div",{class:"card ",onClick:e=>eK(e),children:[(0,i.jsx)("div",{class:"card-header",id:"faqhead4",children:(0,i.jsx)("h2",{class:"btn btn-header-link collapsed","data-toggle":"collapse","data-target":"#faq4","aria-expanded":"true","aria-controls":"faq4",children:"Care Instructions"})}),(0,i.jsx)("div",{id:"faq4",class:"collapse","aria-labelledby":"faqhead4","data-parent":"#faq",children:(0,i.jsx)("div",{class:"card-body",children:(0,i.jsx)("p",{class:"card-body",dangerouslySetInnerHTML:{__html:Y}})})})]})]}),(0,i.jsxs)("div",{className:"cta-trust-factor",children:[(0,i.jsx)("div",{class:"cta-desktop",children:(0,i.jsx)("img",{src:"/Strengths_Section-Website.png"})}),(0,i.jsx)("div",{class:"cta-mobile",children:(0,i.jsx)("img",{src:"/Strengths_Section-mobile.png"})})]})]})})]}),((null==q?void 0:null===(w=q.reviews)||void 0===w?void 0:w.length)>0||s.Z.get("userToken"))&&(0,i.jsxs)("div",{class:"product-rating-section",children:[(0,i.jsxs)("div",{class:"review-heading-main",children:[(0,i.jsx)("div",{class:"review-heading-left",children:(0,i.jsx)("h2",{children:"Reviews"})}),s.Z.get("userToken")&&(0,i.jsx)("h5",{children:"Add Review"})]}),(0,i.jsxs)("div",{class:"rview-contnt-bx",children:[s.Z.get("userToken")&&(0,i.jsx)(m,{userToken:s.Z.get("userToken"),id:q._id}),(0,i.jsxs)("div",{class:"reveiw-right",id:"review-section-redirected",children:[(0,i.jsx)("div",{class:"review-inner-heading"}),(0,i.jsx)("div",{class:"review-message",children:(null==q?void 0:q.reviews)&&(null==q?void 0:q.reviews.length)>0&&q.reviews.map(e=>(0,i.jsx)("div",{class:"review-list",children:(0,i.jsxs)("div",{class:"message-area",children:[(0,i.jsxs)("div",{class:"message-area-content",children:[e.summary&&(0,i.jsxs)("div",{id:"sum-star",children:[(0,i.jsx)("h5",{children:e.summary}),(0,i.jsx)(c.Z,{value:e.rating,isHalf:!0,size:24,edit:!1,activeColor:"#ffd700"})]}),e.review&&(0,i.jsx)("p",{children:e.review})]}),(0,i.jsxs)("h6",{children:["By ",e.userName?e.userName:"Anonymous"," Posted on ",(0,i.jsx)(_(),{format:"DD/MM/YYYY",children:e.created_at})]})]})}))})]})]})]}),(null==q?void 0:null===(N=q.relatedProduct)||void 0===N?void 0:N.length)>0&&(0,i.jsx)(y,{product:q.relatedProduct})]}),(0,i.jsx)(b.Z,{show:eH,className:"speacial-product-wrp",onHide:()=>eA(!1),children:(0,i.jsx)("div",{class:"modal-dialog",children:(0,i.jsxs)("div",{class:"modal-content",children:[(0,i.jsx)("div",{class:"modal-header",children:(0,i.jsx)("h4",{class:"modal-title",children:"Add More Products For Your Special Ones"})}),(0,i.jsx)("div",{class:"modal-body special-product",children:es.map((e,t)=>(0,i.jsx)("div",{class:"shopping-wrp-box flora-row shopping-list ",children:(0,i.jsxs)("div",{class:"flora-row ",children:[(0,i.jsx)("div",{class:"cart-fig",children:(0,i.jsx)("img",{src:"https://api.floraindia.com/upload/".concat(e.image),alt:"image"})}),(0,i.jsxs)("div",{class:"cart-text",children:[(0,i.jsxs)("div",{class:"cart-detail-product",children:[(0,i.jsx)("div",{class:"cart-product-name",children:(0,i.jsx)("h6",{children:e.name})}),(0,i.jsx)("div",{class:"cart-product-price",children:(0,i.jsxs)("p",{class:"flora-prime-text-color",children:[(0,i.jsx)("span",{className:"currency-symbol",children:(0,d.N)(e.price,J).split("  ")[0]}),(0,i.jsx)("span",{children:(0,d.N)(e.price,J).split("  ")[1]})]})})]}),(0,i.jsxs)("div",{class:"input-group quantity-selector",children:[(0,i.jsx)("button",{type:"button",class:"btn btn-icon btn-decrease","aria-describedby":"inputQuantitySelector","data-bs-step":"down",onClick:()=>{if(e.Quantity){let a=[...es],i={...e};i.Quantity=e.Quantity-1,a[t]=i,ed([...a])}},children:"-"}),(0,i.jsx)("input",{type:"number",id:"inputQuantitySelector",class:"form-control","aria-live":"polite","data-bs-step":"counter",name:"quantity",title:"quantity",value:e.Quantity,step:"1","data-bs-round":"0","aria-label":"Quantity selector"}),(0,i.jsx)("button",{type:"button",class:"btn btn-icon btn-increase","aria-describedby":"inputQuantitySelector","data-bs-step":"up",onClick:()=>{let a=[...es],i={...e};i.Quantity=e.Quantity+1,a[t]=i,ed([...a])},children:"+"})]})]})]})}))}),(0,i.jsx)("div",{class:"modal-footer",children:(0,i.jsxs)("div",{class:"flora-row",children:[es.filter(e=>e.Quantity).length>0&&(0,i.jsxs)("button",{type:"button",className:"flora-bright-button ",onClick:()=>{eA(!1),eF()},children:["Continue with ",es.filter(e=>e.Quantity).length," Add-ons"]}),0==es.filter(e=>e.Quantity).length&&(0,i.jsx)("button",{type:"button",onClick:()=>{eA(!1),eQ()},class:"flora-bright-button",children:"Continue Without Add-ons"})]})})]})})}),(0,i.jsxs)("div",{className:"add-buy-btns-mobile",children:["TBDBCV"!==eS&&eu?(0,i.jsxs)("p",{className:"pdt-delivery-msg mobile",children:[" Assured ",(0,i.jsx)("span",{style:{color:"red"},children:"Today's "})," Delivery Order Within : ",(0,i.jsxs)("span",{style:{color:"red"},children:[eu," "]})]}):"TBDBCV"===eS&&(0,i.jsxs)("p",{className:"pdt-delivery-msg mobile ",children:["Product will be delivered in ",(0,i.jsxs)("span",{style:{color:"red"},children:[" ",e_," to ",eN," days "]}),"by our courier partner"]}),(0,i.jsxs)("div",{class:"product-button-add flora-row mobile",children:[O?(0,i.jsx)("button",{type:"button",class:"flora-bright-button flora-bright-button ","data-toggle":"modal","data-target":"#myModal",children:"Adding..."}):(0,i.jsx)("button",{type:"button",class:"flora-bright-button blank-mobile","data-toggle":"modal","data-target":"#myModal",onClick:()=>{if(es.length>0){if(!s.Z.get("pinCode")){x()("Please check item's availability at your pincode before adding it into your cart");return}eA(!0)}else eQ("add")},children:"add to cart"}),(0,i.jsx)("button",{type:"button",class:"flora-bright-button bu-product-text fill-mobile","data-toggle":"modal","data-target":"#myModal",onClick:()=>{eQ("buy")},children:"Buy Now"}),(0,i.jsxs)("p",{className:"secure-pay-text",children:[(0,i.jsx)("span",{children:(0,i.jsx)("img",{src:"/Lock_icon_image.png"})}),"  100% Secure Payment"]})]})]})]})})},P=a(8447),k=a(3638);function O(e){var t,a,l,n,s,d,c,v,h,m,g,f;let x=(0,p.useRouter)(),[j,y]=(0,r.useState)(e.props),[b,w]=(0,r.useState)(!1),[_,N]=(0,r.useState)(!1),[C,S]=(0,r.useState)(1),[T,O]=(0,r.useState)(e.props.count),[Z,q]=(0,r.useState)(1e3),[I,L]=(0,r.useState)(""),[H,A]=(0,r.useState)(30),[E,R]=(0,r.useState)(!1),[B,M]=(0,r.useState)([]),[V,Q]=(0,r.useState)(["/gifts/valentines-day","/gifts/rose-day","/gifts/propose-day","/chocolates/valentines-day","/gifts/teddy-day","/gifts/promise-day","/gifts/hug-day","/gifts/kiss-day","/hampers/valentines-day","/cakes/valentines-day","/teddies/valentines-day","/roses/valentines-day","/red-roses/valentines-day","/flowers/valentines-day","/gifts/valentines-day/for-girlfriend","/gifts/valentines-day/for-boyfriend","/gifts/valentines-day/for-wife","/gifts/valentines-day/for-husband","/gifts/valentines-day/for-her","/gifts/valentines-day/for-him"]);(0,r.useEffect)(()=>{let e=document.createElement("img");e.src="/Valentines Day(600 x 600 px)/Calendar.png";let t=document.createElement("img");t.src="/Valentines Day(600 x 600 px)/Chocolate.png";let a=document.createElement("img");a.src="/Valentines Day(600 x 600 px)/Gift Box.png";let i=document.createElement("img");i.src="/Valentines Day(600 x 600 px)/Heart.png";let l=document.createElement("img");l.src="/Valentines Day(600 x 600 px)/Letter.png";let n=document.createElement("img");n.src="/Valentines Day(600 x 600 px)/Rose.png";let r=document.createElement("img");r.src="/Valentines Day(600 x 600 px)/Teddy.png",M([e,t,a,i,l,n,r])},[]);let F=async(e,t)=>{window.location="/".concat(j.currentCat.slug,"?").concat(e,"=").concat(t)};(0,r.useEffect)(()=>{(0,D.Mk)(e.props.currentCat.category_name),q(window.innerWidth);var t=document.getElementById("targetDiv");V.some(e=>x.asPath.includes(e))&&R(!0),x.query.page&&t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},500),S(x.query.page?Number(x.query.page):1)},[x.query.page]);let U=async e=>{let t={...x.query,page:e};delete t.procat,window.location="/".concat(j.currentCat.slug,"?").concat(function(e){let t=Object.keys(e).map(t=>"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))).join("&");return t}(t))};function z(e){return e.replace(/-/g," ").replace(/(?:^|\s)\S/g,e=>e.toUpperCase())}return(0,i.jsxs)("main",{class:"page-content",children:[(null==j?void 0:null===(t=j.currentCat)||void 0===t?void 0:t.banner)&&(0,i.jsx)("div",{class:"inner-main-banner",children:(0,i.jsx)("div",{className:"content-width-box",children:(0,i.jsx)("div",{className:"flora-full-container",children:(0,i.jsx)("div",{className:"inner-main-banner-row",children:(0,i.jsx)("img",{height:"312",width:"1700",src:"".concat(o.Z,"/upload/").concat(j.currentCat.banner),alt:(null==j?void 0:null===(a=j.currentCat)||void 0===a?void 0:a.titles)?null==j?void 0:null===(l=j.currentCat)||void 0===l?void 0:l.titles:"".concat(null==j?void 0:null===(n=j.currentCat)||void 0===n?void 0:n.category_name," Banner"),title:(null==j?void 0:null===(s=j.currentCat)||void 0===s?void 0:s.altTags)?null==j?void 0:null===(d=j.currentCat)||void 0===d?void 0:d.altTags:null==j?void 0:null===(c=j.currentCat)||void 0===c?void 0:c.category_name})})})})}),(0,i.jsxs)("div",{class:"content-width-box",children:[(0,i.jsx)("div",{class:"flora-full-container ",children:(0,i.jsx)("nav",{"aria-label":"breadcrumb",children:(0,i.jsxs)("ol",{class:"breadcrumb category-breadcrumb",children:[(0,i.jsx)("li",{class:"breadcrumb-item",children:(0,i.jsx)("a",{href:"/",children:"Home"})}),x.query.procat.map((e,t)=>t===x.query.procat.length-1?(0,i.jsx)("li",{class:"breadcrumb-item custom-breadcrumb-item active","aria-current":"page",children:z(e)}):(0,i.jsx)("li",{class:"breadcrumb-item custom-breadcrumb-item",children:(0,i.jsx)("a",{href:"/".concat(x.query.procat.slice(0,t+1).join("/")),children:z(e)})}))]})})}),(0,i.jsx)("div",{class:"flora-full-container",children:(0,i.jsx)("div",{class:"category-row-wrap",children:(0,i.jsxs)("div",{class:"flora-row",children:[(0,i.jsxs)("div",{class:"flora-row category-heading-box-top desktop-sorting",children:[Z>767&&(0,i.jsx)("div",{className:"flora-half-col category-sort-left-heading",children:(0,i.jsx)("h1",{children:(null===(v=j.currentCat)||void 0===v?void 0:v.heading)?null===(h=j.currentCat)||void 0===h?void 0:h.heading:j.currentCat.category_name})}),(0,i.jsx)("div",{className:"flora-half-col category-sort-right",children:(0,i.jsxs)("select",{value:1==x.query.newest?"Newest":1==x.query.sort?"Price: Low to High":-1==x.query.sort?"Price: High to Low":"Relevant",onChange:e=>{"Price: Low to High"==e.target.value&&F("sort",1),"Price: High to Low"==e.target.value&&F("sort",-1),"Newest"==e.target.value&&F("newest",1),"Relevant"==e.target.value&&(window.location="/".concat(j.currentCat.slug))},children:[(0,i.jsx)("option",{value:"",children:"Sort By"}),(0,i.jsx)("option",{value:"Price: Low to High",children:"Price: Low to High"}),(0,i.jsx)("option",{value:"Price: High to Low",children:"Price: High to Low"}),(0,i.jsx)("option",{value:"Newest",children:"New Arrivals"}),(0,i.jsx)("option",{value:"Relevant",children:"Best Sellers "})]})})]}),(0,i.jsxs)("div",{class:"cate-occasion flora-full-container",children:[e.props.categoryHierarchy.children.filter(e=>!1!==e.ShowInCategoryPage&&e.children.length>0).map((e,t)=>(0,i.jsx)(i.Fragment,{children:t%2?(0,i.jsxs)("div",{className:"cate-occasion cateogies-relation subcat-row-even",children:[(0,i.jsx)("div",{className:"flora-heading-box category-names",children:(0,i.jsx)("h2",{className:"flora-center",children:e.name})}),(0,i.jsx)("div",{class:"category-relation-product",children:e.children.map(e=>{if(!1!==e.ShowInCategoryPage)return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"flora-product-card",children:(0,i.jsxs)("a",{href:"/".concat(e.slug),children:[(0,i.jsx)("div",{className:"product-card-figur ",children:(0,i.jsx)("img",{width:"257",height:"257",src:"".concat(o.Z,"/upload/").concat(e.icon),alt:(null==e?void 0:e.iconAltTag)?null==e?void 0:e.iconAltTag:"".concat(e.name," Icon"),title:e.iconTitle?e.iconTitle:e.name})}),(0,i.jsx)("div",{className:"product-card-detail",children:(0,i.jsx)("h6",{children:e.name})})]})})})})})]}):(0,i.jsxs)("div",{className:"subcat-row-odd",children:[(0,i.jsx)("div",{className:"flora-heading-box category-names",children:(0,i.jsx)("h2",{className:"flora-center",children:e.name})}),(0,i.jsx)("div",{class:"category-slider",children:e.children.map(e=>{if(!1!==e.ShowInCategoryPage)return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"flora-product-card",children:(0,i.jsxs)("a",{href:"/".concat(e.slug),children:[(0,i.jsx)("div",{className:"product-card-figur ",children:(0,i.jsx)("img",{width:"257",height:"257",src:"".concat(o.Z,"/upload/").concat(e.icon),alt:(null==e?void 0:e.iconAltTag)?null==e?void 0:e.iconAltTag:"".concat(e.name," Icon"),title:e.iconTitle?e.iconTitle:e.name})}),(0,i.jsx)("div",{className:"product-card-detail",children:(0,i.jsx)("h6",{children:e.name})})]})})})})})]})})),(0,i.jsxs)("div",{class:"flora-row category-heading-box-top mobile-sorting",children:[Z<766&&(0,i.jsx)("div",{className:"flora-half-col category-sort-left-heading  xyz",children:(0,i.jsx)("h1",{children:(null===(m=j.currentCat)||void 0===m?void 0:m.heading)?null===(g=j.currentCat)||void 0===g?void 0:g.heading:j.currentCat.category_name})}),(0,i.jsx)("div",{className:"flora-half-col category-sort-right",children:(0,i.jsxs)("select",{value:1==x.query.sort?"Price: Low to High":-1==x.query.sort?"Price: High to Low":1==x.query.newest?"Newest":"Relevant",onChange:e=>{"Price: Low to High"==e.target.value&&F("sort",1),"Price: High to Low"==e.target.value&&F("sort",-1),"Newest"==e.target.value&&F("newest",1),"Relevant"==e.target.value&&(window.location="/".concat(j.currentCat.slug))},children:[(0,i.jsx)("option",{value:"",children:"Sort By"}),(0,i.jsx)("option",{value:"Price: Low to High",children:"Price: Low to High"}),(0,i.jsx)("option",{value:"Price: High to Low",children:"Price: High to Low"}),(0,i.jsx)("option",{value:"Newest",children:"New Arrivals"}),(0,i.jsx)("option",{value:"Relevant",children:"Best Sellers"})]})})]}),(0,i.jsx)("div",{class:"flora-product-list flora-row plp-inner-pdt",id:"targetDiv",children:j.data.map(e=>(0,i.jsx)(u,{product:e}))}),(0,i.jsxs)("div",{className:"page-list-box",children:[(0,i.jsxs)("p",{className:"above-page-product",children:["(Showing ",C*H-H+1," to ",Math.min(H*C,T)," of ",T," products)"]}),T>30&&(0,i.jsx)(P.Z,{hideNavigation:!0,activePage:C,itemsCountPerPage:30,totalItemsCount:null==e?void 0:null===(f=e.props)||void 0===f?void 0:f.count,onChange:U})]}),j.currentCat.content&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"category-bottom-content",dangerouslySetInnerHTML:{__html:j.currentCat.content}})})]})]})})})]}),E&&(0,i.jsx)(k.Z,{style:{position:"fixed"},images:B,radius:Z>767?[80,90]:[50,70],wind:[-.5,2],snowflakeCount:Z>767?20:10,speed:[.75,1.5]})]})}var Z=!0;function q(e){var t,a,l,r,s,d,c,u,v,h,m,g,f,x,j,y,b,w;let _=(0,p.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n(),{children:[(0,i.jsx)("meta",{name:"robots",content:"INDEX,FOLLOW"}),(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:'{\n                "@context":"http://schema.org",\n                "@type":"WebPage",\n                "url":"https://www.floraindia.com/'.concat(_.asPath,'",\n                "name":"').concat("Product"===e.type?null===(v=e.data[0])||void 0===v?void 0:v.meta_title:null===(h=e.currentCat)||void 0===h?void 0:h.meta_title,'",\n                "description":"').concat("Product"===e.type?null===(m=e.data[0])||void 0===m?void 0:m.meta_description:null===(g=e.currentCat)||void 0===g?void 0:g.meta_desc,'",\n                "publisher":{"@type":"Organization","name":"FloraIndia"},\n                "keywords":"').concat("Product"===e.type?null===(f=e.data[0])||void 0===f?void 0:f.meta_keyword:null===(x=e.currentCat)||void 0===x?void 0:x.meta_keyword,'"\n            }')}}),"Product"===e.type&&(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:null==(j=e.data[0])?void 0:j.product_name,sku:null==j?void 0:j.SKUCode,image:(null==j?void 0:j.TypeOfProduct)==="simple"?"".concat(o.Z,"/upload/").concat(null==j?void 0:null===(y=j.simpleData[0])||void 0===y?void 0:y.images[0]):(null==j?void 0:j.TypeOfProduct)==="configurable"&&"".concat(o.Z,"/upload/").concat(null==j?void 0:null===(b=j.configurableData[0])||void 0===b?void 0:b.images[0]),description:null==j?void 0:j.meta_description,brand:{"@type":"Brand",name:"FloraIndia"},offers:{"@type":"Offer",priceCurrency:"INR",price:(null==j?void 0:j.TypeOfProduct)==="simple"?null===(w=j.simpleData[0])||void 0===w?void 0:w.selling_price:1020},aggregateRating:{"@type":"AggregateRating",ratingValue:(null==j?void 0:j.ratings)?null==j?void 0:j.ratings:5,bestRating:"5",worstRating:"1",ratingCount:(null==j?void 0:j.ratingsCount)?null==j?void 0:j.ratingsCount:1}})}}),"Product"===e.type?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:null===(t=e.data[0])||void 0===t?void 0:t.meta_title}),(0,i.jsx)("meta",{name:"title",content:null===(a=e.data[0])||void 0===a?void 0:a.meta_title}),(0,i.jsx)("meta",{name:"description",content:null===(l=e.data[0])||void 0===l?void 0:l.meta_description}),(0,i.jsx)("meta",{name:"keywords",content:null===(r=e.data[0])||void 0===r?void 0:r.meta_keyword})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("title",{children:null===(s=e.currentCat)||void 0===s?void 0:s.meta_title}),(0,i.jsx)("meta",{name:"title",content:null===(d=e.currentCat)||void 0===d?void 0:d.meta_title}),(0,i.jsx)("meta",{name:"description",content:null===(c=e.currentCat)||void 0===c?void 0:c.meta_desc}),(0,i.jsx)("meta",{name:"keywords",content:null===(u=e.currentCat)||void 0===u?void 0:u.meta_keyword})]}),Object.keys(e.metaObject).length>0&&Object.keys(e.metaObject).map(t=>(0,i.jsx)("meta",{property:t,content:e.metaObject[t]})),Object.keys(e.metaObject2).length>0&&Object.keys(e.metaObject).map(t=>(0,i.jsx)("meta",{name:t,content:e.metaObject[t]}))]}),(0,i.jsx)("div",{className:"flora-full-container"}),"Product"===e.type?(0,i.jsx)(T,{props:e}):(0,i.jsx)(O,{props:e})]})}}},function(e){e.O(0,[4885,6737,4803,6037,9774,2888,179],function(){return e(e.s=1469)}),_N_E=e.O()}]);